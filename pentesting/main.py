import frida
from colorama import Fore, Style

def get_option():
    print(f"{Fore.CYAN}Enter command:")
    print("0: Reset")
    print("1: Set premium")
    print("2: Unlock all achievements")
    print("3: Steal user credentials")
    print("4: Show message")
    print("5: Always win chess")
    print("6: Hedgehogs on every image")
    print("7: Break navigation")
    print("8: Hook http")
    print("choice:")
    return input(Style.RESET_ALL)

def my_message_handler(message, payload):
    print(message)
    print(message["stack"])

code = open("main.js").read()
device = frida.get_usb_device(timeout=1)
process = device.attach('My Enchanted Garden')
script = process.create_script(code)
script.on('message', my_message_handler)
print(f'{Fore.GREEN}[*] Running')
script.load()

while True:
    command = get_option()
    if command == "0":
        process.detach()
        process = device.attach('My Enchanted Garden')
        script = process.create_script(code)
        script.on('message', my_message_handler)
        script.load()
    elif command == "1":
        script.exports_sync.setpremium()
    elif command == "2":
        script.exports_sync.unlockalla()
    elif command == "3":
        script.exports_sync.stealcredentials()
    elif command == "4":
        message = input(f"{Fore.YELLOW}Enter message:{Style.RESET_ALL}\n")
        script.exports_sync.showmessage(message)
    elif command == "5":
        script.exports_sync.alwayswin()
    elif command == "6":
        script.exports_sync.hedgehogs()
    elif command == "7":
        script.exports_sync.breaknavigation()
    elif command == "8":
        script.exports_sync.hookhttp()
